(function(){"use strict";try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.thermostat-wrap[data-v-14081632]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;container-type:size}.thermostat[data-v-14081632]{--dial-background-1: #334155;--dial-background-2: #1e293b;--dial-inner-1: #374151;--dial-inner-2: #1f2937;--dial-inner-3: #111827;--accent-primary: #06b6d4;--accent-glow: rgba(6, 182, 212, .4);--text-primary: #f1f5f9;--text-secondary: #94a3b8;--text-muted: #64748b;--tick-inactive: #475569;--range-labels: #64748b;--button-background-1: #334155;--button-background-2: #1e293b;--button-hover-1: #475569;--button-hover-2: #334155;--button-text: #94a3b8;--button-text-hover: #e2e8f0;--shadow-primary: rgba(0, 0, 0, .4);--shadow-inset-light: rgba(255, 255, 255, .05);--shadow-inset-dark: rgba(0, 0, 0, .4);aspect-ratio:1 / 1;height:100%;width:auto;max-width:100%;max-height:100%;margin:0 auto;container-type:size;contain:size layout style;position:relative;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}@container (width < height){.thermostat[data-v-14081632]{width:100%;height:auto}}.dial[data-v-14081632]{position:relative;width:100%;height:100%;border-radius:50%;background:linear-gradient(145deg,var(--dial-background-1),var(--dial-background-2));box-shadow:0 2.86cqmin 10.71cqmin var(--shadow-primary),inset 0 .71cqmin 1.43cqmin var(--shadow-inset-light)}.dial-inner[data-v-14081632]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:75%;height:75%;border-radius:50%;background:linear-gradient(165deg,var(--dial-inner-1) 0%,var(--dial-inner-2) 50%,var(--dial-inner-3) 100%);box-shadow:inset 0 1.43cqmin 4.29cqmin var(--shadow-inset-dark),inset 0 -.71cqmin 2.14cqmin var(--shadow-inset-light);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:10}.ticks[data-v-14081632]{position:absolute;top:0;left:0;width:100%;height:100%}.tick[data-v-14081632]{position:absolute;top:2.86cqmin;left:50%;width:.71cqmin;height:3.57cqmin;background:var(--tick-inactive);border-radius:.36cqmin;transform-origin:50% 47.14cqmin}.tick.active[data-v-14081632]{background:var(--accent-primary);box-shadow:0 0 1.43cqmin var(--accent-glow)}.indicator[data-v-14081632]{position:absolute;top:2.86cqmin;left:50%;width:.71cqmin;height:3.57cqmin;background:transparent;transform-origin:50% 47.14cqmin;z-index:15;transition:transform .3s ease}.indicator[data-v-14081632]:after{content:"";position:absolute;top:-2.14cqmin;left:50%;transform:translate(-50%);width:0;height:0;border-left:2.14cqmin solid transparent;border-right:2.14cqmin solid transparent;border-top:3.57cqmin solid var(--accent-primary);filter:drop-shadow(0 0 1.43cqmin var(--accent-glow))}.dial-content[data-v-14081632]{text-align:center;color:var(--text-primary);z-index:15}.dial-label[data-v-14081632]{font-size:4.64cqmin;color:var(--text-secondary);margin-bottom:1.43cqmin;letter-spacing:.18cqmin}.dial-temperature[data-v-14081632]{font-size:18.57cqmin;font-weight:300;line-height:1;margin-bottom:1.43cqmin;color:var(--text-primary)}.dial-temperature .degree[data-v-14081632]{font-size:10cqmin;vertical-align:super}.dial-status[data-v-14081632]{font-size:4.29cqmin;color:var(--text-muted);min-height:5cqmin}.range-label[data-v-14081632]{position:absolute;font-size:4.64cqmin;color:var(--range-labels)}.range-label.min[data-v-14081632]{bottom:10cqmin;left:23.21cqmin}.range-label.max[data-v-14081632]{bottom:10cqmin;right:23.21cqmin}.controls[data-v-14081632]{position:absolute;bottom:10.71cqmin;left:50%;transform:translate(-50%);display:flex;gap:7.14cqmin;z-index:20}.btn[data-v-14081632]{width:14.29cqmin;height:14.29cqmin;border-radius:50%;border:none;background:linear-gradient(145deg,var(--button-background-1),var(--button-background-2));box-shadow:0 1.07cqmin 2.86cqmin var(--shadow-primary),inset 0 .36cqmin .71cqmin var(--shadow-inset-light);color:var(--button-text);font-size:8.57cqmin;font-weight:300;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s ease;-webkit-user-select:none;user-select:none}.btn[data-v-14081632]:hover:not(:disabled){background:linear-gradient(145deg,var(--button-hover-1),var(--button-hover-2));color:var(--button-text-hover)}.btn[data-v-14081632]:active:not(:disabled){transform:scale(.95);box-shadow:0 .71cqmin 1.43cqmin var(--shadow-primary),inset 0 .36cqmin .71cqmin var(--shadow-inset-light)}.btn[data-v-14081632]:disabled{opacity:.5;cursor:not-allowed}.btn span[data-v-14081632]{line-height:1;margin-top:-.71cqmin}@container (max-width: 150px){.range-label[data-v-14081632],.dial-status[data-v-14081632]{display:none}.tick[data-v-14081632]{opacity:.5}}@container (max-width: 100px){.ticks[data-v-14081632]{display:none}.controls[data-v-14081632]{gap:3cqmin}.btn[data-v-14081632]{width:12cqmin;height:12cqmin;font-size:7cqmin}}')),document.head.appendChild(t)}}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})();
(function(i,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("vuex"),require("vue")):typeof define=="function"&&define.amd?define(["exports","vuex","vue"],o):(i=typeof globalThis<"u"?globalThis:i||self,o(i["ui-thermostat"]={},i.vuex,i.Vue))})(this,function(i,o,t){"use strict";const d=(e,s)=>{const r=e.__vccOpts||e;for(const[n,a]of s)r[n]=a;return r},m={name:"UIThermostat",inject:["$socket","$dataTracker"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})},state:{type:Object,default:()=>({enabled:!1,visible:!1})}},data(){return{minTemp:15,maxTemp:30,tempStep:.5,arcStartAngle:225,arcEndAngle:495,targetTemp:22.5,currentTemp:21.8,heatingPercent:0,ticks:[],totalTicks:30}},computed:{...o.mapState("data",["messages"]),currentTempLabel(){return`Current ${this.currentTemp.toFixed(1)}°`},heatingStatus(){return this.heatingPercent>0?`Heating ${this.heatingPercent}%`:""},indicatorStyle(){const e=(this.targetTemp-this.minTemp)/(this.maxTemp-this.minTemp),s=Math.round(e*this.totalTicks),r=this.arcEndAngle-this.arcStartAngle;return{transform:`translateX(-50%) rotate(${this.arcStartAngle+s/this.totalTicks*r}deg)`}},msg(){return this.messages[this.id]||{}}},watch:{msg:{handler(e){e&&e.payload&&this.updateFromPayload(e.payload)},deep:!0,immediate:!0},targetTemp(){this.generateTicks()}},mounted(){this.totalTicks=(this.maxTemp-this.minTemp)/this.tempStep,this.generateTicks(),this.$dataTracker(this.id,this.onInput,this.onLoad)},methods:{generateTicks(){const e=this.arcEndAngle-this.arcStartAngle,s=(this.targetTemp-this.minTemp)/(this.maxTemp-this.minTemp),r=Math.round(s*this.totalTicks);this.ticks=[];for(let n=0;n<=this.totalTicks;n++){const a=this.arcStartAngle+n/this.totalTicks*e;this.ticks.push({active:n<=r,style:{transform:`translateX(-50%) rotate(${a}deg)`}})}},adjustTemp(e){const s=Math.max(this.minTemp,Math.min(this.maxTemp,this.targetTemp+e));s!==this.targetTemp&&(this.targetTemp=s,this.sendTargetTemp())},updateFromPayload(e){e.currentTemp!==void 0&&(this.currentTemp=e.currentTemp),e.targetTemp!==void 0&&(this.targetTemp=e.targetTemp),e.heatingPercent!==void 0&&(this.heatingPercent=e.heatingPercent)},sendTargetTemp(){const e={payload:{targetTemp:this.targetTemp}};this.$socket.emit("widget-action",this.id,e)},onInput(e){e&&e.payload&&this.updateFromPayload(e.payload)},onLoad(e){e&&e.payload&&this.updateFromPayload(e.payload)}}},p={class:"thermostat-wrap"},h={class:"thermostat"},T={class:"dial"},g={class:"ticks"},u={class:"dial-inner"},f={class:"dial-content"},k={class:"dial-label"},_={class:"dial-temperature"},y={class:"dial-status"},S={class:"range-label min"},E={class:"range-label max"},b={class:"controls"},V=["disabled"],x=["disabled"];function N(e,s,r,n,a,l){return t.openBlock(),t.createElementBlock("div",p,[t.createElementVNode("div",h,[t.createElementVNode("div",T,[t.createElementVNode("div",g,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(a.ticks,(c,A)=>(t.openBlock(),t.createElementBlock("div",{key:A,class:t.normalizeClass(["tick",{active:c.active}]),style:t.normalizeStyle(c.style)},null,6))),128))]),t.createElementVNode("div",{class:"indicator",style:t.normalizeStyle(l.indicatorStyle)},null,4),t.createElementVNode("div",u,[t.createElementVNode("div",f,[t.createElementVNode("div",k,t.toDisplayString(l.currentTempLabel),1),t.createElementVNode("div",_,[t.createElementVNode("span",null,t.toDisplayString(a.targetTemp.toFixed(1)),1),s[2]||(s[2]=t.createElementVNode("span",{class:"degree"},"°",-1))]),t.createElementVNode("div",y,t.toDisplayString(l.heatingStatus),1)])]),t.createElementVNode("span",S,t.toDisplayString(a.minTemp)+"°",1),t.createElementVNode("span",E,t.toDisplayString(a.maxTemp)+"°",1),t.createElementVNode("div",b,[t.createElementVNode("button",{class:"btn",onClick:s[0]||(s[0]=c=>l.adjustTemp(-a.tempStep)),disabled:a.targetTemp<=a.minTemp,"aria-label":"Decrease temperature"},[...s[3]||(s[3]=[t.createElementVNode("span",null,"−",-1)])],8,V),t.createElementVNode("button",{class:"btn",onClick:s[1]||(s[1]=c=>l.adjustTemp(a.tempStep)),disabled:a.targetTemp>=a.maxTemp,"aria-label":"Increase temperature"},[...s[4]||(s[4]=[t.createElementVNode("span",null,"+",-1)])],8,x)])])])])}const P=d(m,[["render",N],["__scopeId","data-v-14081632"]]);i.UIThermostat=P,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
